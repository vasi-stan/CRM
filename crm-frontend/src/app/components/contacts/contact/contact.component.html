
<mat-toolbar color="primary">
    <mat-toolbar-row>
        <button color="primary" (click)="newContact()" mat-raised-button routerLinkActive="active">Contact nou</button>
    </mat-toolbar-row>
</mat-toolbar>

<!--list-->   
    <mat-card *ngIf="list; else elseBlock" class="bg-secondary bg-gradient">
    <mat-form-field class="ms-5" appearance="standard">
    <mat-label>Search</mat-label>
    <input (keyup)="applyFilter($event)" matInput>
    </mat-form-field>
    
    <div class="mat-elevation-z8 gri">
        <table mat-table class="gri" [dataSource]="tempContacts">
      
          
            <ng-container matColumnDef="nume">
                <th mat-header-cell *matHeaderCellDef> Nume </th>
                <td mat-cell *matCellDef="let element"> {{element.nume_contact}} </td>
              </ng-container>
          
              
              <ng-container matColumnDef="functie">
                <th mat-header-cell *matHeaderCellDef> Functie </th>
                <td mat-cell *matCellDef="let element"> {{element.functie}} </td>
              </ng-container>
          
              
              <ng-container matColumnDef="gen">
                <th mat-header-cell *matHeaderCellDef> Gen </th>
                <td mat-cell *matCellDef="let element"> {{element.gen}} </td>
              </ng-container>
        
              <ng-container matColumnDef="telefon">
                <th mat-header-cell *matHeaderCellDef> Telefon </th>
                <td mat-cell *matCellDef="let element"> {{element.telefon}} </td>
              </ng-container>
        
              <ng-container matColumnDef="telefon2">
                <th mat-header-cell *matHeaderCellDef> Telefon2 </th>
                <td mat-cell *matCellDef="let element"> {{element.telefon2}} </td>
              </ng-container>
        
              <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef> Email </th>
                <td mat-cell *matCellDef="let element"> {{element.email}} </td>
              </ng-container>
    
              <ng-container matColumnDef="email2">
                <th mat-header-cell *matHeaderCellDef> Email2 </th>
                <td mat-cell *matCellDef="let element"> {{element.email2}} </td>
              </ng-container>
        
              <ng-container matColumnDef="note">
                <th mat-header-cell *matHeaderCellDef> Note </th>
                <td mat-cell *matCellDef="let element"> {{element.note_contact}} </td>
              </ng-container>
    
              <ng-container [matColumnDef]="'actions'">
                <th mat-header-cell *matHeaderCellDef> Actions </th>
                <td mat-cell *matCellDef="let element">
                  <button mat-icon-button (click)="editareContact(element)">
                    <mat-icon mat-icon-button color='primary'>edit</mat-icon>
                  </button>
                  <button mat-icon-button (click)="delete(element['id'])">
                    <mat-icon mat-icon-button color="warn">delete</mat-icon>
                  </button>
                </td>
              </ng-container>
          
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
              <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
      </div>
    
    </mat-card>
<!-- edit-->
<ng-template #elseBlock>


<mat-card>
  <mat-card-title>{{this.titlu}}</mat-card-title>
  <mat-card-subtitle>
      <mat-form-field class="ms-5" appearance="standard">
          <mat-label>Nume Contact</mat-label>
          <input matInput [(ngModel)]="contact.nume_contact" name="contact.nume_contact">
          <mat-hint>Nume si Prenume</mat-hint>
        </mat-form-field>
      
        <mat-form-field class="ms-5" appearance="standard">
          <mat-label>Functie</mat-label>
          <input matInput [(ngModel)]="contact.functie" name="contact.functie">
        </mat-form-field>
    
        <mat-form-field  class="ms-5" appearance="standard">
          <mat-label>Gen</mat-label>
          <mat-select [(ngModel)]="contact.gen" name="contact.gen">
            <mat-option class="gri" *ngFor="let tempGen of gen" [value]="tempGen.value">
              {{tempGen.viewValue}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      
    
      
        <mat-form-field class="ms-5"appearance="standard">
          <mat-label>Telefon</mat-label>
          <input matInput [(ngModel)]="contact.telefon" name="contact.telefon">
        </mat-form-field>
      
        <mat-form-field class="ms-5" appearance="standard">
          <mat-label>Telefon2</mat-label>
          <input matInput [(ngModel)]="contact.telefon2" name="contact.telefon2">
        </mat-form-field>
      
        <mat-form-field class="ms-5" appearance="standard">
          <mat-label>Email</mat-label>
          <input matInput [(ngModel)]="contact.email" name="contact.email">
        </mat-form-field>
      
        <mat-form-field class="ms-5" appearance="standard">
          <mat-label>Email2</mat-label>
          <input matInput [(ngModel)]="contact.email2" name="contact.email2">
        </mat-form-field>
      
        <mat-form-field class="ms-5" appearance="standard">
          <mat-label>Note</mat-label>
          <input matInput [(ngModel)]="contact.note_contact" name="contact.note_contact">
        </mat-form-field>      
          <mat-card-actions>
              <button color="primary" (click)="salvare()" mat-raised-button>Salvare</button>
              <button color="primary" (click)="cancel()" mat-raised-button>Cancel</button>
          </mat-card-actions>
      
  </mat-card-subtitle>
  

</mat-card>
</ng-template>